<div class="bg-white rounded-lg shadow-sm overflow-hidden relative" x-data="coverModal()">
  <div class="relative h-48 md:h-64 bg-gradient-to-r from-blue-400 to-purple-500"><img
      src="./../../assets/images/placeholder.svg?height=400&amp;width=1200" alt="Cover"
      class="object-cover-image cursor-pointer" @click="openCoverModal($event)"></div>
  <div class="relative absolute px-6 pt-6 bottom-[45px] -mt-8 md:-mt-12">
    <div class="flex flex-col md:flex-row md:items-end md:justify-between">
      <div class="flex flex-col md:flex-row md:items-end space-y-4 md:space-y-0 md:space-x-6">
        <div class="relative">
          <span
            class="relative flex shrink-0 overflow-hidden rounded-full w-32 h-32 md:w-36 md:h-36 border-4 border-white shadow-lg"><img
              class="aspect-square h-full w-full cursor-pointer"
              src="./../../assets/images/placeholder.svg?height=150&amp;width=150"
              @click="openAvatarModal($event)"></span>
          <div
            class="absolute bottom-4 left-[6.5rem] md:left-[7rem] md:right-4 w-6 h-6 bg-green-500 border-2 border-white rounded-full">
          </div>
        </div>
        <div class="space-y-3 md:pt-0">
          <div>
            <h1 class="text-2xl md:text-3xl font-bold flex items-center gap-2">
              Nguyễn Văn A
              <i data-lucide="circle-check-big" class="w-5 h-5 text-blue-500"></i>
            </h1>
            <p class="text-gray-600 text-lg">@nguyenvana</p>
          </div>
          <div class="bg-white/90 backdrop-blur-sm rounded-lg md:bg-transparent md:backdrop-blur-none">
            <p class="text-gray-700 max-w-md">Frontend Developer | Tech Enthusiast | Coffee Lover ☕</p>
          </div>
          <div class="flex flex-wrap items-center gap-4 text-sm text-gray-600">
            <div class="flex items-center">
              <i data-lucide="map-pin" class="w-4 h-4 mr-1"></i>
              TP. Hồ Chí Minh
            </div>
            <div class="flex items-center">
              <i data-lucide="link" class="w-4 h-4 mr-1"></i>
              <a href="https://nguyenvana.dev" class="text-blue-600 hover:underline">Website</a>
            </div>
            <div class="flex items-center">
              <i data-lucide="calendar" class="w-4 h-4 mr-1"></i>
              Tham gia 15/3/2023
            </div>
          </div>
          <div class="flex space-x-6 pt-2">
            <div class="text-center">
              <div class="font-bold text-lg">156</div>
              <div class="text-sm text-gray-600">Bài viết</div>
            </div>
            <div class="text-center">
              <div class="font-bold text-lg">1,234</div>
              <div class="text-sm text-gray-600">Người theo dõi</div>
            </div>
            <div class="text-center">
              <div class="font-bold text-lg">567</div>
              <div class="text-sm text-gray-600">Đang theo dõi</div>
            </div>
          </div>
        </div>
      </div>
      <div class="flex space-x-3 mt-4 md:mt-0">
        <button x-data="followButton" @click="toggleFollow()" :class="getButtonClasses()" :text="getButtonText()">
          <div x-html="getButtonIcon()"></div>
          <span x-text="getButtonText()"></span>
        </button>
        <button
          class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
          <i data-lucide="message-circle" class="w-4 h-4 mr-2"></i>
          Nhắn tin
        </button>
        <button
          class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3">
          <i data-lucide="ellipsis" class="w-4 h-4"></i>
        </button>
      </div>
    </div>
  </div>


  <!-- Modal View Avatar -->
  <div id="avatarModal" class="jmodal hidden fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0">
    <div class="jmodal-content fixed left-[50%] top-[50%] z-50 grid translate-x-[-50%] translate-y-[-50%] gap-4 border shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg max-w-[95vw] sm:max-w-7xl w-full h-[90vh] p-0 bg-black/95">
      <div class="relative w-full h-full flex flex-col">
        <div class="absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/50 to-transparent p-4">
          <div class="flex items-center justify-between text-white">
            <div>
              <h3 class="text-lg font-semibold">Ảnh đại diện</h3>
              <p class="text-sm opacity-75">1 / 1</p>
            </div>
            <div class="flex items-center space-x-2">
              <button @click="downloadAvatar()"
                class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:text-accent-foreground h-9 rounded-md px-3 text-white hover:bg-white/20">
                <i data-lucide="download" class="w-4 h-4"></i>
              </button>
              <button
                class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:text-accent-foreground h-9 rounded-md px-3 text-white hover:bg-white/20">
                <i data-lucide="share2" class="w-4 h-4"></i>
              </button>
              <button data-jmodal-close
                class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:text-accent-foreground h-9 rounded-md px-3 text-white hover:bg-white/20">
                <i data-lucide="x" class="w-4 h-4"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="flex-1 flex items-center justify-center p-4 max-h-[calc(90vh-120px)]">
          <div class="relative w-full h-full flex items-center justify-center"><img id="avatarImage" alt="Ảnh đại diện"
              class="max-w-full max-h-full object-contain" style="max-height: calc(-200px + 90vh);">
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal View Cover -->
  <div id="coverModal" class="jmodal hidden fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0">
    <div class="jmodal-content fixed left-[50%] top-[50%] z-50 grid translate-x-[-50%] translate-y-[-50%] gap-4 border shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg max-w-[95vw] sm:max-w-7xl w-full h-[90vh] p-0 bg-black/95">
      <div class="relative w-full h-full flex flex-col">
        <div class="absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/50 to-transparent p-4">
          <div class="flex items-center justify-between text-white">
            <div>
              <h3 class="text-lg font-semibold">Ảnh bìa</h3>
              <p class="text-sm opacity-75">1 / 1</p>
            </div>
            <div class="flex items-center space-x-2">
              <button @click="downloadCover()"
                class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:text-accent-foreground h-9 rounded-md px-3 text-white hover:bg-white/20">
                <i data-lucide="download" class="w-4 h-4"></i>
              </button>
              <button
                class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:text-accent-foreground h-9 rounded-md px-3 text-white hover:bg-white/20">
                <i data-lucide="share2" class="w-4 h-4"></i>
              </button>
              <button data-jmodal-close
                class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:text-accent-foreground h-9 rounded-md px-3 text-white hover:bg-white/20">
                <i data-lucide="x" class="w-4 h-4"></i>
              </button>
            </div>
          </div>
        </div>
        <div class="flex-1 flex items-center justify-center p-4 max-h-[calc(90vh-120px)]">
          <div class="relative w-full h-full flex items-center justify-center"><img id="coverImage" alt="Ảnh bìa"
              class="max-w-full max-h-full object-contain" style="max-height: calc(-200px + 90vh);"></div>
        </div>
      </div>
    </div>
  </div>
</div>