<div id="applyJobModal" class="jmodal hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50"
  x-data="jobDetailComponent()">
  <div class="jmodal-content bg-white rounded-lg max-w-2xl w-full p-6">
    <div class="flex flex-col space-y-1.5 text-center sm:text-left">
      <h2 class="text-lg font-semibold leading-none tracking-tight">Ứng tuyển: Kỹ sư Phần mềm Senior</h2>
      <p class="text-sm text-muted-foreground">Điền thông tin của bạn để ứng tuyển vào vị trí
        này tại Công ty TNHH Samsung Electronics Việt Nam</p>
    </div>
    <form @submit.prevent="handleApplySubmit($event)" class="space-y-4">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div>
          <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
            for="fullName">Họ và tên *</label>
          <input
            class="flex h-10 w-full rounded-md border px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"
            :class="errors.fullName ? 'border-red-300 focus:ring-red-500 focus:border-red-500' : 'border-input bg-background'"
            id="fullName" name="fullName" placeholder="Nguyễn Văn A" value="">
          <p x-show="errors.fullName" x-text="errors.fullName" class="text-red-500 text-xs mt-1"></p>
        </div>
        <div>
          <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
            for="phone">Số điện thoại *</label>
          <input
            class="flex h-10 w-full rounded-md border px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"
            :class="errors.phone ? 'border-red-300 focus:ring-red-500 focus:border-red-500' : 'border-input bg-background'"
            id="phone" name="phone" placeholder="0123456789" value="">
          <p x-show="errors.phone" x-text="errors.phone" class="text-red-500 text-xs mt-1"></p>
        </div>
        <div>
          <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
            for="email">Email *</label>
          <input
            class="flex h-10 w-full rounded-md border px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"
            :class="errors.email ? 'border-red-300 focus:ring-red-500 focus:border-red-500' : 'border-input bg-background'"
            id="email" name="email" placeholder="example@email.com" value="">
          <p x-show="errors.email" x-text="errors.email" class="text-red-500 text-xs mt-1"></p>
        </div>
      </div>
      <div class="space-y-2"><label
          class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">Chọn CV
          trong thư viện của tôi</label>
        <div class="space-y-4">
          <div>
            <div class="text-sm text-muted-foreground mb-2">CV Online</div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-2"><button type="button"
                class="border rounded-lg p-2 text-left hover:bg-gray-50 transition">
                <div class="font-medium line-clamp-1">CV Frontend – Nguyễn Văn A</div>
                <div class="text-xs text-muted-foreground">Mẫu: CV Hiện Đại - Xanh Mint</div>
              </button><button type="button" class="border rounded-lg p-2 text-left hover:bg-gray-50 transition">
                <div class="font-medium line-clamp-1">CV Product Manager</div>
                <div class="text-xs text-muted-foreground">Mẫu: CV Đơn Giản - Xanh Dương</div>
              </button><button type="button" class="border rounded-lg p-2 text-left hover:bg-gray-50 transition">
                <div class="font-medium line-clamp-1">CV Frontend – Nguyễn Văn A</div>
                <div class="text-xs text-muted-foreground">Mẫu: CV Hiện Đại - Xanh Mint</div>
              </button><button type="button" class="border rounded-lg p-2 text-left hover:bg-gray-50 transition">
                <div class="font-medium line-clamp-1">CV Product Manager</div>
                <div class="text-xs text-muted-foreground">Mẫu: CV Đơn Giản - Xanh Dương</div>
              </button></div>
          </div>
          <div>
            <div class="text-sm text-muted-foreground mb-2">CV đã tải lên</div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-2"><button type="button"
                class="border rounded-lg p-2 text-left hover:bg-gray-50 transition">
                <div class="font-medium line-clamp-1">NguyenVanTestCV_vi.pdf</div>
                <div class="text-xs text-muted-foreground">Cập nhật: 29/6/2025</div>
              </button><button type="button" class="border rounded-lg p-2 text-left hover:bg-gray-50 transition">
                <div class="font-medium line-clamp-1">NguyenVanTestCV_en.pdf</div>
                <div class="text-xs text-muted-foreground">Cập nhật: 3/8/2025</div>
              </button></div>
          </div>
          <div class="text-center text-xs text-muted-foreground">— hoặc —</div>
          <div class="space-y-2"><label
              class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
              for="resume">Tải CV từ máy</label><input
              class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"
              id="resume" name="resume" accept=".pdf,.doc,.docx" type="file">
            <div class="text-xs text-muted-foreground">Hỗ trợ PDF, DOC, DOCX (≤ 5MB)</div>
          </div>
        </div>
      </div>
      <div>
        <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
          for="coverLetter">Thư xin việc</label>
        <textarea
          class="flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"
          id="coverLetter" name="coverLetter"
          placeholder="Viết vài dòng về bản thân và lý do bạn phù hợp với vị trí này..." rows="4"></textarea>
      </div>
      <div class="flex gap-3 pt-4">
        <button type="submit" :disabled="isLoading"
          class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 btn-primary flex-1">
          <span x-show="!isLoading">Gửi hồ sơ</span>
          <span x-show="isLoading" class="flex items-center">
            <div class="loading loading-sm mr-2"></div>
            Đang gửi...
          </span>
        </button>
        <button type="button" @click="closeApplyModal()"
          class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">Hủy</button>
      </div>
    </form>
    <button type="button" @click="closeApplyModal()" data-jmodal-close
      class="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
      <i data-lucide="x" class="w-4 h-4"></i><span class="sr-only">Đóng</span>
    </button>
  </div>
</div>